{"version":3,"sources":["api/service.js","components/cars/AddCar.js","components/cars/CarCard.js","components/cars/CarList.js","components/agencies/AgencyList.js","components/agencies/GoogleMap.js","components/agencies/AgencyDetails.js","components/auth/auth-service.js","components/navbar/Notifications.js","components/navbar/NavBar.js","components/cars/CarDetails.js","components/auth/Signup.js","components/auth/Login.js","components/reservation/Redirection.js","components/auth/UserAccount.js","components/admin/Rentals.js","components/admin/Agencies.js","components/admin/Clients.js","components/admin/SimpleTabs.js","components/admin/Header.js","components/admin/AdminPage.js","App.js","serviceWorker.js","index.js"],"names":["service","axios","create","baseURL","process","errorHandler","err","theFile","post","then","res","data","catch","AddCar","state","brand","model","type","year","numberOfSeats","numberOfDoors","transmission","airConditionner","available","agency","feesPerDay","numberPlate","imageUrl","fuel","handleFormSubmit","event","preventDefault","error","console","log","handleChange","target","name","value","setState","handleFileUpload","e","files","uploadData","FormData","append","response","secure_url","onSubmit","this","className","TextField","id","label","variant","onChange","mainImgUrl","Component","useStyles","makeStyles","root","maxWidth","media","height","CarCard","props","classes","buttons","isAdmin","Button","size","color","onClick","handleDelete","car","_id","handleOpen","adminDetails","Card","CardActionArea","CardMedia","image","title","CardContent","Typography","gutterBottom","component","CardActions","CarList","listOfCars","open","updatedCar","getAllCars","get","responseFromApi","put","deleteCar","deletedCar","delete","filter","carId","handleClose","map","key","isAvailable","Modal","aria-labelledby","aria-describedby","onClose","React","Agency","listOfAgencies","selected","getAllAgencies","handleSelect","handleSeach","history","push","Paper","elevation","FormControl","InputLabel","ref","Select","labelId","labelWidth","displayEmpty","MenuItem","MapContainer","google","zoom","initialCenter","lat","lng","onMarkerClick","onInfoWindowClose","GoogleApiWrapper","apiKey","AgencyDetails","cars","filteredArray","getAgency","match","params","withAC","sortByPrice","sortedArray","sort","a","b","availableCars","filteredCars","displayedCars","length","htmlFor","native","inputProps","chooseType","to","style","textDecoration","address","phone","AuthService","login","username","password","signup","lastname","phonenumber","loggedin","logout","userAccount","isreadynumber","readbyuser","ids","withCredentials","Notifications","notification","notificationContent","handleReadyOrders","notifNumber","rental","orderStatus","notificationIds","displayContent","userInSession","Badge","badgeContent","NavBar","logoutUser","getUser","AppBar","position","Toolbar","moment","locale","CarDetails","dateOut","Date","dateOfReturn","getCar","handleConfirm","total","numberOfDays","handleStartDateChange","date","handleEndDateChange","Math","ceil","format","src","alt","Grid","container","spacing","item","xs","display","utils","DateFnsUtils","frLocale","DateTimePicker","minDate","ampm","autoOk","disableToolbar","withRouter","Signup","Container","CssBaseline","Avatar","sm","autoComplete","required","fullWidth","autoFocus","justify","href","Login","userStatus","md","square","margin","FormControlLabel","control","Checkbox","Redirection","UserAccount","fetchUserInfo","user","rentals","ListItem","alignItems","ListItemAvatar","ListItemText","primary","secondary","Fragment","created_at","Rentals","listOfReservations","filteredList","search","getAllReservations","handleValidation","rentalId","updatedRental","listOfReservations2","reservation","handleNotifications","handleCancellation","handleTermination","searchSpace","keyword","theReservation","toLowerCase","indexOf","OutlinedInput","List","aria-label","Divider","Agencies","Clients","listOfClients","getAllClients","client","TabPanel","children","index","other","role","hidden","Box","p","a11yProps","theme","flexGrow","backgroundColor","palette","background","paper","SimpleTabs","useState","setValue","Tabs","newValue","Tab","Header","todonumber","Hidden","smUp","IconButton","onDrawerToggle","Link","Tooltip","AdminPage","App","loggedInUser","notifications","getTheUser","userObj","fetchUser","exact","path","render","AgencyList","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.707c4c18.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst service = axios.create({\n  baseURL: `${process.env.REACT_APP_API_URL}`,\n  // withCredentials: true // => you might need this when having the users in the app \n});\n\nconst errorHandler = err => {\n  // console.error(err);\n  throw err;\n};\n\nexport default {\n  service,\n\n  handleUpload(theFile) {\n    // console.log('file in service: ', theFile)\n    return service.post('/upload', theFile)\n      .then(res => res.data)\n      .catch(errorHandler);\n  },\n}","import React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport '../cars/AddCar.scss'\nimport axios from 'axios'\nimport service from '../../api/service'\n\nclass AddCar extends Component {\n  state={\n    brand: \"\",model: \"\",type: \"\",year:\"\",numberOfSeats: \"\",numberOfDoors: \"\",transmission:\"\",airConditionner:\"\",\n    available:\"\",agency: \"\",feesPerDay: \"\",numberPlate: \"\",imageUrl: \"\",fuel: \"\"\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    \n    const {brand,model,year,type,numberOfSeats,numberOfDoors,transmission,airConditionner,available,agency,feesPerDay,numberPlate,imageUrl,fuel} = this.state\n    \n    axios.post(`${process.env.REACT_APP_API_URL}/cars`, {brand,model,type,year,numberOfSeats,numberOfDoors,transmission,airConditionner,imageUrl,available,agency,feesPerDay,numberPlate,fuel})\n      .then(() => {\n          // this.props.getData();\n          // Reset form\n          // this.setState({\n          //   brand: \"\",model: \"\",type: \"\",numberOfSeats: \"\",numberOfDoors: \"\",transmission:\"\",airConditionner:\"\",\n          //   mainImgUrl:\"\",agency: \"\",feesPerDay: \"\",numberPlate: \"\"\n          // });\n      })\n      .catch(error => console.log(error))\n  }\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n}\n\nhandleFileUpload = e => {\n  console.log(\"The file to be uploaded is: \", e.target.files[0]);\n\n  const uploadData = new FormData();\n  // imageUrl => this name has to be the same as in the model since we pass\n  // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n  uploadData.append(\"imageUrl\", e.target.files[0]);\n  \n  service.handleUpload(uploadData)\n      .then(response => {\n          // console.log('response is: ', response);\n          // after the console.log we can see that response carries 'secure_url' which we can use to update the state \n          this.setState({ imageUrl: response.secure_url });\n      })\n      .catch(err => {\n          console.log(\"Error while uploading the file: \", err);\n      })\n  ;\n}\n  render(){\n   return (\n        <div>\n          <h1>Ajout d'un vehicule</h1>\n          <form onSubmit={this.handleFormSubmit} className=\"AddCar\">\n          <TextField id=\"outlined-basic\" name=\"brand\" value={this.state.brand}label=\"Marque\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"model\" value={this.state.model}label=\"Model\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"year\" value={this.state.year}label=\"Année\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"type\" value={this.state.type}label=\"Type\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"numberOfSeats\" value={this.state.numberOfSeats}label=\"Nombre de siège\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"numberOfDoors\" value={this.state.numberOfDoors}label=\"Nombre de portes\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"transmission\" value={this.state.transmission}label=\"Transmission\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"fuel\" value={this.state.fuel}label=\"Carburant\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"airConditionner\" value={this.state.airConditionner}label=\"Air conditionnée\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"mainImgUrl\" value={this.state.mainImgUrl}label=\"Image\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"available\" value={this.state.available}label=\"Disponible\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"agency\" value={this.state.agency}label=\"Agence\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"feesPerDay\" value={this.state.feesPerDay}label=\"Tarif journalier\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <TextField id=\"outlined-basic\" name=\"numberPlate\" value={this.state.numberPlate}label=\"Numéro de plaque\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n          <input type='file' name=\"imageUrl\" onChange={(e) => this.handleFileUpload(e)}/>\n          <input type=\"submit\" value=\"submit\"/>\n          </form>\n        </div>\n      )\n  }  \n\n}\n\nexport default AddCar;\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport './CarCard.scss'\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 620,\n  },\n  media: {\n    height: 250,\n  },\n});\n\nexport default function CarCard(props) {\n  const classes = useStyles();\n  const buttons = props.isAdmin ? \n  (<div>\n    <Button size=\"small\" color=\"primary\" onClick={()=>{props.handleDelete(props.car._id)}}> Supprimer</Button>\n    <Button size=\"small\" color=\"primary\" onClick={()=>{props.handleOpen(props.car._id)}}> Modifier</Button>\n    </div>) : (\n    <Button variant=\"contained\" size=\"small\" className='reservation-button'>\n      Réserver\n    </Button>)\n      const adminDetails = props.isAdmin ? <div>{props.car.feesPerDay}</div> : <div></div>\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <CardMedia\n          className={classes.media}\n          image={props.car.imageUrl}\n          title=\"Contemplative Reptile\"\n        />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h5\">\n            {props.car.brand} {props.car.model} {props.car.year} {props.car.feesPerDay} f/jour\n          </Typography>\n        {adminDetails}\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n      {buttons}\n      </CardActions>\n    </Card>\n  );\n}","import React from 'react'\nimport axios from 'axios'\nimport CarCard from './CarCard'\nimport Modal from '@material-ui/core/Modal';\nimport TextField from '@material-ui/core/TextField';\nimport service from '../../api/service'\n\nclass CarList extends React.Component{\n    state={\n        listOfCars:[],\n        open: false,\n        updatedCar:\"\",\n    }\n    getAllCars=()=>{\n        axios.get(`${process.env.REACT_APP_API_URL}/cars`)\n        .then(responseFromApi=>{\n            this.setState({\n                listOfCars : responseFromApi.data\n            })\n        })\n        .catch(err=>{\n            console.log('Error',err)\n        })\n    }\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n\n        const {available,agency,feesPerDay,numberPlate,imageUrl} = this.state\n        \n        axios.put(`${process.env.REACT_APP_API_URL}/cars/${this.state.updatedCar}`, {imageUrl,available,agency,feesPerDay,numberPlate,})\n          .then((response) => {\n              // this.props.getData();\n              // Reset form\n              // this.setState({\n                  //   brand: \"\",model: \"\",type: \"\",numberOfSeats: \"\",numberOfDoors: \"\",transmission:\"\",airConditionner:\"\",\n                  //   mainImgUrl:\"\",agency: \"\",feesPerDay: \"\",numberPlate: \"\"\n                  // });\n                })\n                .catch(error => console.log(error))\n            }\n            \n            deleteCar=(deletedCar)=>{\n                axios.delete(`${process.env.REACT_APP_API_URL}/cars/${deletedCar}`)\n                .then(response =>{\n                    this.setState({\n                        listOfCars : this.state.listOfCars.filter(car => car._id !== response.data.carId)\n                    })       \n                })\n                .catch((err)=>{\n                    console.log(err)\n                })\n            }\n            \n            handleOpen=(updatedCar)=>{\n                this.setState({\n                    open: true,\n                    updatedCar: updatedCar\n                })\n            }\n\n      handleClose=()=>{\n        this.setState({\n            open: false\n        })\n      }\n\n      handleChange = (event) => {  \n        const {name, value} = event.target;\n        this.setState({[name]: value});\n    }\n\n    handleFileUpload = e => {\n        console.log(\"The file to be uploaded is: \", e.target.files[0]);\n      \n        const uploadData = new FormData();\n        // imageUrl => this name has to be the same as in the model since we pass\n        // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n        uploadData.append(\"imageUrl\", e.target.files[0]);\n        \n        service.handleUpload(uploadData)\n            .then(response => {\n                // console.log('response is: ', response);\n                // after the console.log we can see that response carries 'secure_url' which we can use to update the state \n                this.setState({ imageUrl: response.secure_url });\n            })\n            .catch(err => {\n                console.log(\"Error while uploading the file: \", err);\n            })\n        ;\n      }\n\n    componentDidMount(){\n        this.getAllCars()\n    }\n    render(){\n        return(\n            <div>\n                {this.state.listOfCars.map(car=>{\n                    return(\n                        <div key={car._id}>\n                            <CarCard car={car} isAdmin={true} isAvailable={true} handleDelete={this.deleteCar} handleOpen={this.handleOpen} handleClose={this.handleClose}/>\n                            <Modal\n                            aria-labelledby=\"simple-modal-title\"\n                            aria-describedby=\"simple-modal-description\"\n                            open={this.state.open}\n                            onClose={this.handleClose}\n                            >\n                            <div className='confirmation-modal'>\n                                <h2 id=\"simple-modal-title\">Mise à jour du vehicule</h2>\n                                <form onSubmit={this.handleFormSubmit} className=\"AddCar\">\n                                    <TextField id=\"outlined-basic\" name=\"available\" value={this.state.available}label=\"Disponible\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n                                    <TextField id=\"outlined-basic\" name=\"agency\" value={this.state.agency}label=\"Agence\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n                                    <TextField id=\"outlined-basic\" name=\"feesPerDay\" value={this.state.feesPerDay}label=\"Tarif journalier\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n                                    <TextField id=\"outlined-basic\" name=\"numberPlate\" value={this.state.numberPlate}label=\"Numéro de plaque\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n                                    <input type='file' name=\"imageUrl\" onChange={(e) => this.handleFileUpload(e)}/>\n                                    <input type=\"submit\" value=\"submit\"/>\n                                </form>\n                                <p id=\"simple-modal-description\"></p>                         \n                            </div>\n                            </Modal>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nexport default CarList","import React from 'react'\nimport axios from 'axios'\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\nimport Typist from 'react-typist';\n\nclass Agency extends React.Component{\n    state={\n        listOfAgencies: [],\n        selected: ''\n    }\n    getAllAgencies=()=>{\n        axios.get(`${process.env.REACT_APP_API_URL}/agencies`)\n        .then(responseFromApi=>{\n            this.setState({\n                listOfAgencies : responseFromApi.data\n            })\n        })\n        .catch(err=>{\n            console.log('Error',err)\n        })\n    }\n\n    handleSelect=(value)=>{\n        this.setState({\n            selected: value\n        })\n    }\n\n    handleSeach=()=>{\n        this.props.history.push(`/agence/${this.state.selected}`)\n    }\n\n    componentDidMount(){\n        this.getAllAgencies()\n    }\n    render(){\n        return(\n            <div>\n                <section className='select-container'>\n                <Typist className='typist'>\n                    Profitez de notre gamme complète de véhicules directement en ligne\n                </Typist>\n                <Paper className='form-container' elevation={3}>\n                <FormControl variant=\"outlined\" className='agencies-list'>\n                    <InputLabel ref='{inputLabel} 'id=\"demo-simple-select-outlined-label\">\n                    Agences\n                    </InputLabel>\n                    <Select\n                    labelId=\"demo-simple-select-outlined-label\"\n                    id=\"demo-simple-select-outlined\"\n                    value={this.state.selected}\n                    onChange={(e)=>this.handleSelect(e.target.value)}\n                    labelWidth='{labelWidth}'\n                    displayEmpty={false}\n                    >\n                    {/* <MenuItem value=\"\">\n                        <em>None</em>\n                    </MenuItem> */}\n                    <MenuItem value='5e669f290e4eee105dd20e03'>NVA Mermoz</MenuItem>\n                    <MenuItem value='5e66959a715a600f4689cf47'>Aéroport international de Dakar-Yoff <FlightTakeoffIcon /></MenuItem>\n                    <MenuItem value='5e66968a715a600f4689cf48'>Aéroport International Blaise Diagne <FlightTakeoffIcon /></MenuItem>\n                    </Select>\n                <div className='search-button'>\n                <Button onClick={(e)=>{this.handleSeach(e.target.value)}}\n                    variant=\"contained\"\n                    color=\"black\"\n                    className=''\n                >\n                    Rechercher un véhicule\n                </Button>\n                </div>\n                </FormControl>\n                </Paper>\n                </section>\n            \n            <section className='louer'>\n                <div className='flex-container'>\n                    <div className='user-infos'>\n                    \n                    </div>\n                    <div className='user-infos'>\n\n                    </div>\n                    <div className='user-infos'>\n\n                    </div>\n                    <div className='user-infos'>\n\n                    </div>\n                </div>\n            </section>\n            <section >\n\n            </section>\n            </div>\n        )\n    }\n}\n\nexport default Agency","import {Map, InfoWindow, Marker, GoogleApiWrapper} from 'google-maps-react';\nimport React from 'react'\n \nexport class MapContainer extends React.Component {\n  render() {\n    return (\n      <Map google={this.props.google} zoom={10} initialCenter={{\n        lat: 14.4974,\n        lng: -16.46660948\n      }}>\n \n        <Marker onClick={this.onMarkerClick}\n                name={'Current location'} />\n \n        <InfoWindow onClose={this.onInfoWindowClose}>\n            <div>\n              <h1>place</h1>\n            </div>\n        </InfoWindow>\n      </Map>\n    );\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: \"\"\n})(MapContainer)","import React from 'react'\nimport axios from 'axios'\nimport CarCard from '../cars/CarCard'\nimport { Link } from 'react-router-dom';\nimport '../agencies/Agency.scss'\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport MapContainer from './GoogleMap'\n\n\nclass AgencyDetails extends React.Component{\n    state = {\n        agency : {\n            cars: []\n        },\n        filteredArray: [],\n        selected: ''\n    }\n\n    getAgency=()=>{\n        axios.get(`${process.env.REACT_APP_API_URL}/agencies/${this.props.match.params.id}`)\n        .then(responseFromApi=>{\n            this.setState({\n                agency : responseFromApi.data\n            })\n        })\n        .catch(err=>{\n            console.log('Error',err)\n        })\n    }\n\n    transmission=(value)=>{\n        this.setState({\n            selected : value,\n            filteredArray : this.state.agency.cars.filter(car=>{\n                return car.transmission === value\n            })\n        })\n    }\n\n    withAC=(value)=>{\n        this.setState({\n            selected : value,\n            filteredArray : this.state.agency.cars.filter(car=>{\n                return car.airConditionner === value\n            })\n        })\n    }\n\n    sortByPrice = (value) => {\n        if(value === 'croissant'){\n            const sortedArray = [...this.state.agency.cars].sort(function (a, b) {\n                return a.feesPerDay - b.feesPerDay;\n        })\n        this.setState({\n            selected : value,\n            agency: {\n                ...this.state.agency,\n                cars: sortedArray\n          }\n        })\n        }\n        if(value === 'decroissant'){\n            const sortedArray = [...this.state.agency.cars].sort(function (a, b) {\n                return b.feesPerDay - a.feesPerDay;\n        })\n        this.setState({\n            selected : value,\n            agency : {\n                ...this.state.agency,\n                cars: sortedArray\n          }\n        })\n        }\n    }\n    \n    \n    componentDidMount(){\n        this.getAgency()\n        \n        \n    }\n\n    render(){\n\n        //this.setState({filteredArray: this.state.agency.cars})\n        const availableCars = this.state.agency.cars\n        const filteredCars = this.state.filteredArray\n        // areFiltersActive is of type boolean\n        const areFiltersActive = filteredCars.length \n        // if no active filter show all availableCars\n        const displayedCars = areFiltersActive ? filteredCars : availableCars\n\n        \n        \n        return(\n            <div className='container'>\n                <div className='sub-container'>\n                <div className = 'list-container'>\n                <div className='filter-bar'>\n                    <FormControl className='form-control'>\n                        <InputLabel htmlFor=\"age-native-simple\">Prix</InputLabel>\n                            <Select\n                                native\n                                value={this.state.selected}\n                                onChange={(e)=>this.sortByPrice(e.target.value)}\n                                inputProps={{\n                                name: 'age',\n                                id: 'age-native-simple',\n                                }}\n                            >\n                                <option value=\"\" />\n                                <option value='croissant'>Croissant</option>\n                                <option value='decroissant'>Decroissant</option>\n                                </Select>\n                    </FormControl>\n                    <FormControl className='form-control'>\n                        <InputLabel htmlFor=\"age-native-simple\">Transmission</InputLabel>\n                            <Select\n                                native\n                                value={this.state.selected}\n                                onChange={(e)=>this.transmission(e.target.value)}\n                                inputProps={{\n                                name: 'age',\n                                id: 'age-native-simple',\n                                }}\n                            >\n                                <option value=\"\" />\n                                <option value='automatique'>Automatique</option>\n                                <option value='manuelle'>Manuelle</option>\n                                <option value='Tous'>Tous</option>\n                                </Select>\n                    </FormControl>\n                    <FormControl className='form-control'>\n                        <InputLabel htmlFor=\"age-native-simple\">Type</InputLabel>\n                            <Select\n                                native\n                                value=''\n                                onChange={this.chooseType}\n                                inputProps={{\n                                name: 'age',\n                                id: 'age-native-simple',\n                                }}\n                            >\n                                <option value=\"\" />\n                                <option value={10}>4x4</option>\n                                <option value={20}>Luxe</option>\n                                <option value={30}>Sport</option>\n                                </Select>\n                    </FormControl>\n                    <FormControl className='form-control'>\n                        <InputLabel htmlFor=\"age-native-simple\">Climatisation</InputLabel>\n                            <Select\n                                native\n                                value={this.state.selected}\n                                onChange={(e)=>this.withAC(e.target.value)}\n                                inputProps={{\n                                name: 'age',\n                                id: 'age-native-simple',\n                                }}\n                            >\n                                <option value=\"\" />\n                                <option value='climatisées'>Climatisée</option>\n                                <option value={20}>Non-climatisée</option>\n                                </Select>\n                    </FormControl>\n                </div>\n                <div className='car-list'> \n                    {displayedCars.map(car=>{\n                        return(\n                                <div key={car._id} className='card-container'>                        \n                                    <Link to={`/agence/${this.state.agency.name}/vehicule/${car.brand}/${car.model}/${car._id}`} style={{ textDecoration: 'none' }} ><div className='car-card'><CarCard car={car}/></div></Link> \n                                </div> \n                        )\n                    })}\n                </div>\n                </div>\n                <div className='agency-details'>\n                    <h3>{this.state.agency.name}</h3>\n                    <h4>{this.state.agency.address}</h4>\n                    <h4><PhoneIcon />+{this.state.agency.phone}</h4>\n                    <MapContainer />\n                </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AgencyDetails;\n","import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}`,\n      withCredentials: true\n    });\n  }\n  login = (username, password) => {\n    return this.service.post('/login', {username, password})\n    .then(response => response.data)\n  }\n  signup = (username, password, name, lastname, phonenumber) => {\n    return this.service.post('/signup', {username, password,name,lastname,phonenumber})\n      .then(response => response.data)\n  }\n  loggedin = () => {\n    return this.service.get('/loggedin').then(response => response.data)\n  }\n\n\n  logout = () => {\n    return this.service.post('/logout', {})\n    .then(response => response.data)\n  }\n\n  userAccount = (id) =>{\n    return this.service.get('/moncompte' , {id})\n      .then(response => response.data)\n  }\n\n  isreadynumber = (id) =>{\n    return this.service.get('/isreadynumber' , {id})\n      .then(response => response.data)\n  }\n\n  readbyuser = (ids) =>{\n    return this.service.put('/readbyuser' , {ids})\n      .then(response => response.data)\n  }\n\n}\n\nexport default AuthService;","import React from 'react'\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport Badge from '@material-ui/core/Badge';\nimport Modal from '@material-ui/core/Modal';\nimport AuthService from '../auth/auth-service';\n\nclass Notifications extends React.Component{\n\n    state={\n      notification: 0,\n      notificationContent: [],\n      open: false\n    }\n\n    service = new AuthService();\n    \n    handleReadyOrders=(id)=>{\n      this.service.isreadynumber(id)\n      .then(response=>{\n          const notifNumber = response.filter(rental=> rental.orderStatus === 'En cours').length\n          const notificationContent = response.filter(rental=> rental.orderStatus === 'En cours')\n          console.log(notificationContent)\n          this.setState({\n              notification : notifNumber,\n              notificationContent : notificationContent\n            })\n      })\n    }\n\n    handleOpen=()=>{\n        const notificationIds = this.state.notificationContent.map(rental=>{\n            return rental._id\n        })\n        this.service.readbyuser(notificationIds)\n        .then(response=>console.log(response))\n        this.setState({\n            open: true,\n            notification: 0\n        })\n      }\n\n      handleClose=()=>{\n        this.setState({\n            open: false\n        })\n      }\n\n    displayContent=()=>{\n        console.log(this.state.notificationContent)\n    }\n    \n    componentDidMount(){\n     this.handleReadyOrders(this.props.userInSession._id)\n    }\n\n    render(){\n        return(\n            <div>\n            <Badge badgeContent={this.state.notification} color=\"secondary\" onClick={this.handleOpen}>\n                <NotificationsIcon />\n            </Badge>\n            <Modal\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            open={this.state.open}\n            onClose={this.handleClose}\n            >\n            <div className='confirmation-modal'>\n                <h2 id=\"simple-modal-title\">Details de votre réservation</h2>\n                <p id=\"simple-modal-description\"></p>\n                {this.state.notificationContent.map(notification=>{\n                    return(\n                        <div>\n                            {notification._id}\n                        </div>\n                    )\n                })}\n            </div>\n        </Modal>\n        </div>\n        )\n    }\n}\n\nexport default Notifications\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../auth/auth-service'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport './NavBar.scss'\nimport Notifications from './Notifications';\n\nclass NavBar extends React.Component{\n\n  service = new AuthService()\n  logoutUser = () => {\n    this.service.logout()\n    .then(() => {\n      this.props.getUser(null);  \n    })\n  }\n  \n  render(){\n    if(this.props.userInSession){\n      return(\n        <div className='NavBar'>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          <div className=\"tool-bar\">\n          <Typography variant=\"h6\">\n            <Link to={'/'} style={{ textDecoration: 'none' }}>NVA</Link>\n          </Typography>\n          <div className='user-in-session'>\n              {this.props.userInSession.name}\n            <Link to={'/moncompte'} style={{ textDecoration: 'none' }}><AccountBoxIcon /></Link>\n            <Notifications userInSession={this.props.userInSession}/>\n            <ExitToAppIcon onClick={() => this.logoutUser()}/>\n          </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n      \n    </div>\n      )\n    }\n    return(\n      <div className='NavBar'>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          <div className=\"tool-bar\">\n          <Typography variant=\"h6\">\n            <Link to={'/'} style={{ textDecoration: 'none' }}>NVA</Link>\n          </Typography>\n          <div className='nav-button'>\n          <Link to={'/login'} style={{ textDecoration: 'none' }}><Button className='connexion-button' color=\"inherit\" variant=\"outlined\">Connexion</Button></Link>\n          <Link to={'/signup'} style={{ textDecoration: 'none' }}><Button color=\"inherit\" variant=\"outlined\">Inscription</Button></Link>\n          </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n      \n    </div>\n    )\n  }\n}\n\nexport default NavBar","import React from 'react'\nimport axios from 'axios'\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport '../cars/CarDetails.scss'\nimport Button from '@material-ui/core/Button';\nimport 'date-fns';\nimport Modal from '@material-ui/core/Modal';\nimport moment from 'moment';\nimport 'moment/locale/fr';  // without this line it didn't work\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport AirlineSeatLegroomExtraIcon from '@material-ui/icons/AirlineSeatLegroomExtra';\nimport LocalGasStationIcon from '@material-ui/icons/LocalGasStation';\nimport { withRouter } from \"react-router\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport frLocale from \"date-fns/locale/fr\";\nimport {DateTimePicker , MuiPickersUtilsProvider} from '@material-ui/pickers'\n\nmoment.locale('fr');\n\nclass CarDetails extends React.Component{\n    state = {\n        car : {},\n        dateOut: new Date(),\n        dateOfReturn: new Date(),\n        open: false,\n    }\n    \n    getCar=()=>{\n        axios.get(`${process.env.REACT_APP_API_URL}/cars/${this.props.match.params.id}`)\n        .then(responseFromApi=>{\n            this.setState({\n                car : responseFromApi.data\n            })\n        })\n        .catch(err=>{\n            console.log('Error',err)\n        })\n    }\n\n    handleConfirm=(total,numberOfDays,dateOut,dateOfReturn)=>{\n        const car = this.state.car._id\n        const agency = this.state.car.agency\n        axios.post(`${process.env.REACT_APP_API_URL}/rentals`,{car,agency,total,numberOfDays,dateOut,dateOfReturn},{withCredentials:true})\n            .then(response=>{\n                this.props.getUser(response.data)\n                this.props.history.push('/redirection')\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n    }\n    \n    componentDidMount(){\n        this.getCar()\n    }\n\n    handleStartDateChange = date => {\n        this.setState({\n            dateOut: date\n        })\n      };\n\n      handleEndDateChange = date => {\n        this.setState({\n            dateOfReturn: date\n        })\n      };\n\n      handleOpen=()=>{\n        this.setState({\n            open: true\n        })\n      }\n\n      handleClose=()=>{\n        this.setState({\n            open: false\n        })\n      }\n      \n    render(){\n        // eslint-disable-next-line react/no-direct-mutation-state\n        let numberOfDays = Math.ceil((this.state.dateOfReturn --- this.state.dateOut) / (1000 * 60 * 60 * 24));\n        let total = this.state.car.feesPerDay*numberOfDays;\n        let dateOut = moment(this.state.dateOut).locale('fr').format('LLLL')\n        let dateOfReturn = moment(this.state.dateOfReturn).locale('fr').format('LLLL')\n        return(\n            <div>\n                <div className='car-div'>\n                <img src={this.state.car.imageUrl} alt=\"\" className='car-image'/>\n                </div>\n                <div className='main-container'>\n                <Grid container spacing={3}>\n                <Grid item xs={6}>\n                <Paper className='car-details'>\n                    <h1>{this.state.car.brand} {this.state.car.model}</h1>\n                    <div className='car-infos'>\n                        {this.state.car.airConditionner ? <div className='align-infos'><AcUnitIcon /> <h4>Climatisées</h4></div> : <div className='align-infos'><AcUnitIcon /> <h4>Non climatisée</h4> </div>}\n                        {this.state.car.transmission === 'automatique' ? <div className='align-infos'><SettingsIcon /> <h4>Boite automatique</h4></div> : <div className='align-infos'><SettingsIcon /> <h4>Transmission manuelle</h4></div>}\n                        {this.state.car.fuel === 'essence' ? <div className='align-infos'><LocalGasStationIcon /> <h4>Essence</h4></div> : <div className='align-infos'><LocalGasStationIcon /> <h4>Diesel</h4></div>}\n                        <div className='align-infos'><AirlineSeatLegroomExtraIcon /> {this.state.car.numberOfSeats} <h4>Sièges</h4></div>\n                    </div>\n                </Paper>\n                </Grid>\n                 <Grid item xs={6} className='car-reservation'>\n                <Paper>\n                <div className='rental-infos'>\n                <h1 style={{display:'inline'}}>{this.state.car.feesPerDay}</h1><h5 style={{display:'inline'}}>/jour</h5>\n                <div className='date-time-picker'>\n                    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={frLocale}>\n                        <p><DateTimePicker value={dateOut} onChange={this.handleStartDateChange} minDate={new Date()} ampm={false} autoOk={true} disableToolbar={true} format=\"d MMM yyyy HH:mm\" label='Date de prise en charge' /></p>\n                        <p><DateTimePicker value={dateOfReturn} onChange={this.handleEndDateChange} minDate={new Date()} ampm={false} autoOk={true} disableToolbar={true} format=\"d MMM yyyy HH:mm\" label='Date de retour'/></p>\n                    </MuiPickersUtilsProvider>\n                </div>\n                {total <= 0 ? '' : <div><h3>{numberOfDays} {numberOfDays > 1 ? 'jours' : 'jour'}</h3>\n                <h3>Total:{total}</h3>\n                <Button variant=\"contained\" onClick={this.handleOpen}>Payer à l'agence</Button></div>}\n                </div>\n                <Modal\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    >\n                    <div className='confirmation-modal'>\n                        <h2 id=\"simple-modal-title\">Details de votre réservation</h2>\n                        <p id=\"simple-modal-description\"></p>\n                        <h4>{this.state.car.brand} {this.state.car.model} {this.state.car.year}</h4>\n                        <h5>Date de prise en charge : {dateOut}</h5>\n                        <h5>Date de retour : {dateOfReturn}</h5>\n                        <h5>Durée totale : {numberOfDays} jours</h5>\n                        <h5>Total : {total}fcfa</h5>\n                        <Button variant=\"contained\" onClick={()=>this.handleConfirm(total,numberOfDays,dateOut,dateOfReturn)}>Confirmer</Button>\n                        \n                    </div>\n                </Modal>\n                </Paper>\n                </Grid>\n                </Grid>\n                </div>\n            </div>\n        )\n      }\n}\n\nexport default withRouter(CarDetails);\n","import AuthService from './auth-service';\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport { withRouter } from \"react-router\";\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport './Signup.scss'\n\nclass Signup extends React.Component {\n  \n    state = { username: '', password: '' , name: '' , lastname: '' , phonenumber:''};\n    service = new AuthService();\n  \n\n  // handleChange() and handleSubmit() will be added here\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n    const name = this.state.name;\n    const lastname = this.state.lastname;\n    const phonenumber = this.state.phonenumber\n\n    this.service.signup(username, password, name, lastname, phonenumber)\n    .then( response => {\n      // reset form\n    //   this.setState({\n    //     username: \"\", \n    //     password: \"\",\n    //     name: \"\",\n    //     lastname: \"\",\n    //     phonenumber: \"\"\n    //   });\n      this.props.getUser(response)\n      this.props.history.push('/')\n    })\n    .catch( error => console.log(error) )\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  render(){\n    return(\n      // <div>\n      //     <form onSubmit={this.handleFormSubmit} className=\"Signup\">\n      //     <TextField id=\"outlined-basic\" name=\"username\" value={this.state.username}label=\"Adresse mail\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <TextField id=\"outlined-basic\" name=\"password\" value={this.state.password}label=\"Mot de passe\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <TextField id=\"outlined-basic\" name=\"lastname\" value={this.state.lastname}label=\"NOM\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <TextField id=\"outlined-basic\" name=\"name\" value={this.state.name}label=\"Prenom\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <TextField id=\"outlined-basic\" name=\"phonenumber\" value={this.state.phonenumber}label=\"Numéro de téléphone\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <input type=\"submit\" value=\"submit\"/>\n      //     </form>\n      //     <p>\n      //     Déja un compte? \n      //     <Link to={\"/\"} style={{ textDecoration: 'none' }}>Se connecter</Link>\n      //   </p>\n      // </div>\n      <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className='paper'>\n        <Avatar className='avatar'>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Inscription\n        </Typography>\n        <form className='form' onSubmit={this.handleFormSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"lname\"\n                name=\"lastname\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastname\"\n                label=\"Nom\"\n                autoFocus\n                value={this.state.lastname}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"name\"\n                label=\"Pénom\"\n                name=\"name\"\n                autoComplete=\"fname\"\n                value={this.state.name}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email\"\n                name=\"username\"\n                autoComplete=\"email\"\n                value={this.state.username}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"address\"\n                label=\"Adresse\"\n                name=\"address\"\n                autoComplete=\"address\"\n                value={this.state.address}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"phone-number\"\n                label=\"N° de téléphone\"\n                name=\"phonenumber\"\n                autoComplete=\"phone-number\"\n                value={this.state.phonenumber}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Mot de passe\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={this.state.password}\n                onChange={ e => this.handleChange(e)}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className='submit'\n          >\n            Inscription\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"#\" variant=\"body2\" to={\"/login\"} >\n                Déja un compte? Connexion\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n    )\n  }\n}\n\nexport default withRouter(Signup);","import AuthService from './auth-service';\nimport React from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from 'react-router-dom'\nimport { withRouter } from \"react-router\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport './Login.scss'\n\n\nclass Login extends React.Component {\n  \n    state = { username: '', password: '' };\n    service = new AuthService();\n  \n\n  // handleChange() and handleSubmit() will be added here\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n    this.service.login(username, password)\n    \n    .then( response => {\n      // reset form\n    //   this.setState({\n    //     username: \"\", \n    //     password: \"\",\n    //     name: \"\",\n    //     lastname: \"\",\n    //     phonenumber: \"\"\n    //   });\n      this.props.getUser(response)\n      this.props.userStatus === 'admin'? this.props.history.push('/admin') : this.props.history.push('/')\n    })\n    .catch( error => console.log(error) )\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n\n  render(){\n    return(\n      // <div>\n      //     <form onSubmit={this.handleFormSubmit} className=\"Login\">\n      //     <TextField id=\"outlined-basic\" name=\"username\" value={this.state.username}label=\"Adresse mail\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <TextField id=\"outlined-basic\" name=\"password\" value={this.state.password}label=\"Mot de passe\" variant=\"outlined\" className='text-field' onChange={ e => this.handleChange(e)}/>\n      //     <input type=\"submit\" value=\"login\"/>\n      //     </form>\n      //     <p>\n      //     Vous n'avez pas de compte? \n      //     <Link to={\"/signup\"} style={{ textDecoration: 'none' }}>S'inscrire</Link>\n      //   </p>\n      // </div>\n      <Grid container component=\"main\" className='root'>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className='image' />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className='paper'>\n          <Avatar className='avatar'>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Connexion\n          </Typography>\n          <form className='form' onSubmit={this.handleFormSubmit}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Adresse mail\"\n              name=\"username\"\n              autoComplete=\"email\"\n              autoFocus\n              value={this.state.username}\n              onChange={ e => this.handleChange(e)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Mot de passe\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={this.state.password}\n              onChange={ e => this.handleChange(e)}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className='submit'\n            >\n              Connexion\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Mot de passe oublié?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link to={\"/signup\"} href=\"#\" variant=\"body2\">\n                  {\"Vous n'avez pas de compte? Inscription\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Grid>\n    </Grid>\n    )\n  }\n}\n\nexport default withRouter(Login);","import React from 'react'\n\nclass Redirection extends React.Component{\n    render(){\n        return(\n            <div>\n                Votre reservation a bien été enregistée.\n            </div>\n        )\n    }\n}\n\nexport default Redirection","import React from 'react'\nimport AuthService from './auth-service';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport './UserAccount.scss'\n\nclass UserAccount extends React.Component{\n  constructor(props){\n    super(props)\n    this.state={\n      user:{\n        rentals:[]\n      }\n    }\n    this.service = new AuthService();\n  }\n\n  fetchUserInfo = (id) => {\n    this.service.userAccount(id)\n      .then((response) => {\n        this.setState({\n          user : response\n        })\n      })\n\n  }\n\n  componentDidMount(){\n    this.fetchUserInfo(this.props.userInSession._id);\n  }\n\n  render(){\n\n    const user = this.props.userInSession\n    console.log(user)\n    return(\n      <div>\n      <h5>Mon profil</h5>\n      <div className='main-container'>\n      <div className='rentals-list'>\n       <h4>Mes reservations</h4>\n       {this.state.user.rentals.map(rental=>{\n         return(\n         <div key={rental._id} className='list-items'>\n           <ListItem alignItems=\"flex-start\">\n        <ListItemAvatar>\n          <Avatar alt=\"Remy Sharp\" src={rental.car.imageUrl}/>\n        </ListItemAvatar>\n        <ListItemText\n          primary={`${rental.car.brand} ${rental.car.model} ${rental.car.year}`}\n          secondary={\n            <React.Fragment>\n              <Typography\n                component=\"span\"\n                variant=\"body2\"\n                className=''\n                color=\"textPrimary\"\n              >\n                Ali Connors\n              </Typography>\n              {\" — I'll be in your neighborhood doing errands this…\"}\n            </React.Fragment>\n          }\n        />\n      </ListItem>\n          </div>\n         )\n       })}\n      </div>\n       <div className='profil'>\n        <h4>Mon compte</h4>\n          <h5>{user.name}</h5>\n          <p>Membre depuis le : {user.created_at}</p>\n          <p>Adresse courriel : {user.username}</p>\n          <p>Adresse : </p>\n          <p>Numéro de téléphone : {user.phonenumber}</p>\n        </div>\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default UserAccount","import React from 'react'\nimport axios from 'axios'\nimport List from '@material-ui/core/List';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport './Rentals.scss'\n\nclass Rentals extends React.Component{\n  state={\n    listOfReservations: [],\n    filteredList:[],\n    search: ''\n  }\n\n  getAllReservations=()=>{\n    axios.get(`${process.env.REACT_APP_API_URL}/rentals`)\n    .then(responseFromApi=>{\n        this.setState({\n            listOfReservations : responseFromApi.data,\n            filteredList: responseFromApi.data\n        })\n    })\n    .catch(err=>{\n        console.log('Error',err)\n    })\n  }\n\n  handleValidation=(rentalId)=>{\n    // \n    axios.put(`${process.env.REACT_APP_API_URL}/rentals/${rentalId}`)\n    .then(response=>{\n      const updatedRental = response.data.updatedRental\n      const listOfReservations2 = [...this.state.filteredList.map(reservation=>{\n        return reservation._id === updatedRental._id ? updatedRental : reservation\n      })];\n      this.setState({\n        filteredList : listOfReservations2\n      })\n      this.props.handleNotifications()\n    })\n  }\n  \n  handleCancellation=(rentalId)=>{\n    axios.put(`${process.env.REACT_APP_API_URL}/cancelrental/${rentalId}`)\n    .then(response=>{\n      const updatedRental = response.data.updatedRental\n      const listOfReservations2 = [...this.state.filteredList.map(reservation=>{\n        return reservation._id === updatedRental._id ? updatedRental : reservation\n      })];\n      this.setState({\n        filteredList : listOfReservations2\n      })\n      this.props.handleNotifications()\n    })\n  }\n\n  handleTermination=(rentalId)=>{\n    axios.put(`${process.env.REACT_APP_API_URL}/terminaterental/${rentalId}`)\n    .then(response=>{\n      const updatedRental = response.data.updatedRental\n      const listOfReservations2 = [...this.state.filteredList.map(reservation=>{\n        return reservation._id === updatedRental._id ? updatedRental : reservation\n      })];\n      this.setState({\n        filteredList : listOfReservations2\n      })\n      this.props.handleNotifications()\n    })\n  }\n\n  searchSpace=(event)=>{\n    let keyword = event.target.value;\n    const copyList = [...this.state.listOfReservations]\n    const filteredList = copyList.filter(theReservation => {\n      return theReservation.user.name.toLowerCase().indexOf(keyword.toLowerCase()) !== -1;\n    })\n    this.setState({\n        filteredList,\n        search:keyword,\n    })\n}\n  \n  \n  componentDidMount(){\n    this.getAllReservations()\n}\n\n  render(){\n    return(\n      <div>\n        <div className='search-bar'>\n        <FormControl fullWidth className='margin' variant=\"filled\">\n          <InputLabel htmlFor=\"outlined-adornment-amount\">Rechercher une réservation</InputLabel>\n          <OutlinedInput\n            id=\"outlined-adornment-amount\"\n            value={this.state.search}\n            onChange={this.searchSpace}\n            labelWidth={60}\n          />\n        </FormControl>\n        </div>\n        {this.state.filteredList.map(reservation=>{\n          return <div key={reservation._id}>\n            <List component=\"nav\" aria-label=\"secondary mailbox folders\" className='main-list-container'>\n                <div className='main-infos'>\n                  <ListItemText primary={`${reservation.agency.name}`} />\n                  <ListItemText primary={`${reservation.car.brand} ${reservation.car.model} ${reservation.car.year}`} secondary={` ref: ${reservation.car._id}`} />\n                  <ListItemText primary={'Client:'} secondary={`${reservation.user.name} ${reservation.user.lastname}`}/>\n                  <ListItemText secondary={`Tel: ${reservation.user.phonenumber}`}/>\n                </div>\n                <div className='other-infos'>\n                  <ListItemText primary={'Prise en charge:'} secondary={`${reservation.dateOut}`} />\n                  <ListItemText primary={'Retour:'} secondary={`${reservation.dateOfReturn}`}/>\n                </div>\n                <div className='status'>\n                  <ListItemText primary={'Statut:'} secondary={`${reservation.orderStatus}`} />\n                </div>\n                {reservation.orderStatus === 'Annulée' ? 'Annulée' : <div className='buttons'>\n                    {reservation.orderStatus === 'À traiter' ? <Button variant=\"contained\" size='small' color=\"primary\" className='main-button' onClick={(e)=>{this.handleValidation(reservation._id)}}>Véhicule prêt, envoyer la notification</Button> \n                    : 'Notification envoyée'}\n                  <p>\n                  <p>\n                    {reservation.orderStatus === 'En cours'  || reservation.orderStatus === 'Lu' ? <Button variant='contained' size='small' onClick={(e)=>{this.handleTermination(reservation._id)}}>Retour véhicule, Terminer</Button> : ''}\n                  </p>\n                    {reservation.orderStatus === 'Terminée' ? 'Terminée' : <Button variant=\"contained\" size='small' color=\"secondary\" onClick={(e)=>{this.handleCancellation(reservation._id)}}>Annuler</Button> } \n                  </p> \n                  \n                </div>}\n                \n            </List>\n            <Divider />\n          </div>\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Rentals","import React from 'react'\nimport axios from 'axios'\n\nclass Agencies extends React.Component{\n\n  state={\n    listOfAgencies:[]\n  }\n\n  getAllAgencies=()=>{\n    axios.get(`${process.env.REACT_APP_API_URL}/agencies`)\n    .then(responseFromApi=>{\n        this.setState({\n            listOfAgencies : responseFromApi.data\n        })\n    })\n    .catch(err=>{\n        console.log('Error',err)\n    })\n  }\n\n  componentDidMount(){\n    this.getAllAgencies()\n  }\n\n  render(){\n    return(\n      <div>\n        {this.state.listOfAgencies.map(agency=>{\n          return(\n            <div key={agency._id}>\n              {agency.address}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Agencies","import React from 'react'\nimport axios from 'axios'\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport './Clients.scss'\n\nclass Clients extends React.Component{\n\n  state = {\n    listOfClients: [],\n    search: ''\n  }\n\n  getAllClients=()=>{\n    axios.get(`${process.env.REACT_APP_API_URL}/users`)\n    .then(responseFromApi=>{\n        this.setState({\n            listOfClients : responseFromApi.data\n        })\n    })\n    .catch(err=>{\n        console.log('Error',err)\n    })\n  }\n\n  componentDidMount(){\n    this.getAllClients()\n  }\n\n  render(){\n    console.log(this.state.listOfClients)\n    console.log(this.state.listOfClients[0])\n    return(\n      <div>\n        <div className='search-bar'>\n        <FormControl fullWidth className='margin' variant=\"filled\">\n          <InputLabel htmlFor=\"outlined-adornment-amount\">Rechercher un client</InputLabel>\n          <OutlinedInput\n            id=\"outlined-adornment-amount\"\n            value=''\n            onChange=''\n            labelWidth={60}\n          />\n        </FormControl>\n        </div>\n        {this.state.listOfClients.map(client=>{\n          return(\n            <div key={client._id}>\n              <List component=\"nav\" aria-label=\"secondary mailbox folders\" className='main-list-container'>\n                <div className='main-infos'>\n                    <ListItemText primary=\"Nom: \" secondary={client.lastname}/>\n                    <ListItemText primary=\"Prenom:\" secondary={client.name} />\n                    <ListItemText primary=\"Identifiant:\" secondary={client.username} />\n                  </div>\n                  <div className='other-infos'>\n                    <ListItemText primary={'Inscrit le'} secondary={`${client.created_at}`} />\n                    <ListItemText primary={'Adresse:'} secondary={`${client.address}`}/>\n                    <ListItemText primary={'N° de téléphone:'} secondary={`${client.phonenumber}`}/>\n                </div>\n                  <div className='last-rental'>\n                    <ListItemText primary={'Dernière réservation:'} secondary={`Statut: ${client.rentals.orderStatus}`}/>\n                  </div>\n             </List>\n             <Divider />\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Clients","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport CarList from '../cars/CarList'\nimport Rentals from './Rentals'\nimport Agencies from './Agencies'\nimport Clients from './Clients'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function SimpleTabs(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"Gestion des véhicules\" {...a11yProps(0)} />\n          <Tab label=\"Réservations\" {...a11yProps(1)} />\n          <Tab label=\"Clients\" {...a11yProps(2)} />\n          <Tab label=\"Agences\" {...a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <CarList />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <Rentals handleNotifications={props.handleNotifications}/>\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        <Clients />\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <Agencies />\n      </TabPanel>\n    </div>\n  );\n}","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport HelpIcon from '@material-ui/icons/Help';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport SimpleTabs from './SimpleTabs'\nimport Badge from '@material-ui/core/Badge';\nimport axios from 'axios'\nimport './Header.scss'\n\nclass Header extends React.Component {\n\n  state={\n    notification: 0,\n  }\n  \nhandleNotifications=()=>{\n  axios.get(`${process.env.REACT_APP_API_URL}/todonumber`)\n   .then(todonumber=>{\n     this.setState({\n       notification: todonumber.data\n     })\n   })\n}\n\ncomponentDidMount(){\n  this.handleNotifications()\n}\n\n  render(){\n  return (\n    <React.Fragment >\n      <AppBar position=\"sticky\" elevation={0} className='header'>\n        <Toolbar>\n          <Grid container spacing={1} alignItems=\"center\">\n            <Hidden smUp>\n              <Grid item>\n                <IconButton\n                  color=\"inherit\"\n                  aria-label=\"open drawer\"\n                  onClick={this.onDrawerToggle}\n                  className='menuButton'\n                >\n                  <MenuIcon />\n                </IconButton>\n              </Grid>\n            </Hidden>\n            <Grid item xs />\n            <Grid item>\n              <Link className='link' href=\"#\" variant=\"body2\">\n                Go to docs\n              </Link>\n            </Grid>\n            <Grid item>\n              <Tooltip title=\"Alerts • No alerts\">\n                <IconButton color=\"inherit\">\n                <Badge badgeContent={this.state.notification} color=\"secondary\">\n                  <NotificationsIcon />\n                </Badge>\n                </IconButton>\n              </Tooltip>\n            </Grid>\n            <Grid item>\n              <IconButton color=\"inherit\" className='iconButtonAvatar'>\n                <Avatar src=\"/static/images/avatar/1.jpg\" alt=\"My Avatar\" />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <AppBar\n        component=\"div\"\n        className='secondaryBar'\n        color=\"primary\"\n        position=\"static\"\n        elevation={0}\n      >\n        <Toolbar>\n          <Grid container alignItems=\"center\" spacing={1}>\n            <Grid item xs>\n              <Typography color=\"inherit\" variant=\"h5\" component=\"h1\">\n                Administration\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Button className='button' variant=\"outlined\" color=\"inherit\" size=\"small\">\n                Web setup\n              </Button>\n            </Grid>\n            <Grid item>\n              <Tooltip title=\"Help\">\n                <IconButton color=\"inherit\">\n                  <HelpIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n      <AppBar\n        component=\"div\"\n        className='secondaryBar'\n        color=\"primary\"\n        position=\"static\"\n        elevation={0}\n      >\n      </AppBar>\n      <SimpleTabs handleNotifications={this.handleNotifications}/>\n    </React.Fragment>\n  );\n}\n}\n\nexport default Header;","import React from 'react'\nimport Header from './Header'\n\nclass AdminPage extends React.Component{\n  \n  render(){\n    return(\n      <div>\n        <Header />\n      </div>\n    )\n  }\n}\n\nexport default AdminPage","import React, { Component } from 'react';\nimport './App.css';\nimport AddCar from './components/cars/AddCar';\nimport CarList from './components/cars/CarList'\nimport AgencyList from './components/agencies/AgencyList'\nimport AgencyDetails from './components/agencies/AgencyDetails'\nimport { Switch, Route } from 'react-router-dom';\nimport NavBar from './components/navbar/NavBar';\nimport CarDetails from './components/cars/CarDetails'\nimport Signup from './components/auth/Signup'\nimport Login from './components/auth/Login'\nimport Redirection from './components/reservation/Redirection'\nimport AuthService from './components/auth/auth-service';\nimport UserAccount from './components/auth/UserAccount';\nimport AdminPage from './components/admin/AdminPage'\n\nclass App extends Component {\n  state = { \n    loggedInUser: null,\n    notifications: 0\n  }\n  service = new AuthService()\n\n  getTheUser= (userObj) => {\n    this.setState({\n      loggedInUser: userObj\n    })\n  }\n\n  fetchUser() {\n    if (this.state.loggedInUser === null){\n      this.service.loggedin()\n        .then(response => {\n          this.setState({loggedInUser: response})\n        })\n        .catch(err => {\n          this.setState({loggedInUser: false}) \n        })\n    }\n  }\n\n  handleNotifications=()=>{\n    this.setState({\n       notification: this.state.notifications + 1\n    })\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  render(){\n    const userStatus = this.state.loggedInUser && this.state.loggedInUser.userStatus\n   return (\n        <div className=\"App\">\n          {userStatus === 'admin' ? '' : <NavBar userInSession={this.state.loggedInUser} getUser={this.getTheUser}/>}\n          <Switch>\n            <Route exact path=\"/\" render={(props) => (<AgencyList history={props.history}/> )}/>\n            <Route exact path=\"/admin\" component={AdminPage} />\n            <Route exact path=\"/moncompte\" render={() => <UserAccount getUser={this.getTheUser} userInSession={this.state.loggedInUser}/>} />\n            <Route exact path=\"/signup\" render={() => <Signup getUser={this.getTheUser} />} />\n            <Route exact path=\"/login\" render={() => <Login getUser={this.getTheUser} userStatus={userStatus}/>} />\n            <Route exact path=\"/agence/:id\" component={AgencyDetails} />\n            <Route exact path=\"/admin/ajout\" component={AddCar} />\n            <Route exact path=\"/admin/liste\" component={CarList} />\n            <Route exact path=\"/agence/:agenceName/vehicule/:vehiculeBrand/:vehiculeModel/:id\" render={() => <CarDetails getUser={this.getTheUser} /> }/>\n            <Route exact path=\"/redirection\" render={(props) => (<Redirection history={props.history} />)} />\n          </Switch>\n        </div>\n      )\n  }\n  \n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}